# æŠ€è¡“åˆ†æžãƒ¬ãƒãƒ¼ãƒˆ: Firestore Security Rules è¿½åŠ 

**æ—¥ä»˜:** 2025-10-21  
**åˆ†æžè€…:** AI (Cursor Agent)  
**å¯¾è±¡:** Firestore Security Rules  
**å•é¡Œã®é‡è¦åº¦:** æœ€é«˜ï¼ˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒªã‚¹ã‚¯ï¼‰

---

## ðŸ“ ã‚¨ã‚°ã‚¼ã‚¯ãƒ†ã‚£ãƒ–ã‚µãƒžãƒªãƒ¼

### **å•é¡Œã®æ¦‚è¦**
Firestore Security RulesãŒè¨­å®šã•ã‚Œã¦ã„ãªã„çŠ¶æ…‹ã§é‹ç”¨ã•ã‚Œã¦ãŠã‚Šã€é‡å¤§ãªã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒªã‚¹ã‚¯ãŒå­˜åœ¨ã—ã¦ã„ãŸã€‚èª°ã§ã‚‚ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®èª­ã¿æ›¸ããŒã§ãã‚‹çŠ¶æ…‹ã§ã‚ã‚Šã€æ‚ªæ„ã®ã‚ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿ã®å‰Šé™¤ãƒ»æ”¹ã–ã‚“ãŒå¯èƒ½ã ã£ãŸã€‚

### **å½±éŸ¿ç¯„å›²**
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒªã‚¹ã‚¯**: æœ€å¤§ãƒ¬ãƒ™ãƒ«
- **ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§**: ä¸æ­£ãªãƒ‡ãƒ¼ã‚¿ã®æ›¸ãè¾¼ã¿ãŒå¯èƒ½
- **é‹ç”¨ãƒªã‚¹ã‚¯**: ãƒ‡ãƒ¼ã‚¿å‰Šé™¤ãƒ»æ”¹ã–ã‚“ã«ã‚ˆã‚‹ã‚µãƒ¼ãƒ“ã‚¹åœæ­¢ã®å¯èƒ½æ€§

### **å®Ÿæ–½ã—ãŸå¯¾å¿œ**
- Firestore Security Rules ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ
- firebase.json ã¸ã®è¨­å®šè¿½åŠ 
- MVPæ®µéšŽã«é©ã—ãŸãƒ«ãƒ¼ãƒ«è¨­è¨ˆï¼ˆæ—¢å­˜æ©Ÿèƒ½ã¸ã®å½±éŸ¿ãªã—ï¼‰

---

## ðŸ” å•é¡Œã®è©³ç´°åˆ†æž

### **1. ç™ºè¦‹ã•ã‚ŒãŸå•é¡Œ**

#### **Security Rules ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸åœ¨**

**ç¾çŠ¶:**
```
âœ— firestore.rules ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã—ãªã„
âœ— firebase.json ã« firestore è¨­å®šãŒãªã„
âœ— Firestore Console ã§ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ«ãƒ¼ãƒ«ï¼ˆãƒ†ã‚¹ãƒˆãƒ¢ãƒ¼ãƒ‰ï¼‰ã®ã¾ã¾
```

**ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ†ã‚¹ãƒˆãƒ¢ãƒ¼ãƒ‰ Rules:**
```javascript
rules_version = '2';
service cloud.firestore {
  match /{document=**} {
    allow read, write: if true;  // å…¨ã¦è¨±å¯ï¼ˆå±é™ºï¼‰
  }
}
```

#### **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒªã‚¹ã‚¯**

```
ã€å¯èƒ½ãªæ”»æ’ƒã€‘
1. ãƒ‡ãƒ¼ã‚¿ã®å®Œå…¨å‰Šé™¤
   â†’ æ‚ªæ„ã®ã‚ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå…¨ãƒ«ãƒ¼ãƒ ã‚’å‰Šé™¤å¯èƒ½
   
2. ãƒ‡ãƒ¼ã‚¿ã®æ”¹ã–ã‚“
   â†’ ä»–äººã®ãƒ«ãƒ¼ãƒ ã®ã‚¿ã‚¤ãƒžãƒ¼ã‚’å‹æ‰‹ã«æ“ä½œ
   â†’ å‚åŠ è€…ãƒªã‚¹ãƒˆã‚’æ”¹ã–ã‚“
   
3. ä¸æ­£ãªãƒ‡ãƒ¼ã‚¿ã®æ›¸ãè¾¼ã¿
   â†’ ç©ºã®ã‚¿ã‚¤ãƒˆãƒ«ã®ãƒ«ãƒ¼ãƒ ã‚’ä½œæˆ
   â†’ ç•°å¸¸ãªå€¤ã®ã‚¿ã‚¤ãƒžãƒ¼è¨­å®š
   
4. ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ä¾µå®³
   â†’ ä»–äººã®ãƒ«ãƒ¼ãƒ ã®å‚åŠ è€…åã‚’å–å¾—
   ï¼ˆç¾çŠ¶ã¯å…¬é–‹æƒ…å ±ãªã®ã§å•é¡Œãªã„ãŒï¼‰
```

---

### **2. ç¾åœ¨ã®Firestoreæ“ä½œã®å…¨ä½“åƒ**

#### **æ“ä½œã®ç¨®é¡žåˆ¥é›†è¨ˆ**

| æ“ä½œ | ç®‡æ‰€æ•° | ãƒ•ã‚¡ã‚¤ãƒ« |
|-----|--------|---------|
| **read** | 3 | useRoomsList, useRoomData, useParticipants |
| **create (room)** | 1 | useRoomCreation |
| **update (room)** | 8 | useParticipants, useSharedTimer, useFaceObstacleGame |
| **delete (room)** | 1 | useRoomActions |
| **create (participant)** | 1 | useParticipants |
| **delete (participant)** | 5 | useParticipantsï¼ˆè¤‡æ•°ç®‡æ‰€ï¼‰ |

#### **è©³ç´°ãªæ“ä½œãƒªã‚¹ãƒˆ**

```javascript
// 1. ãƒ«ãƒ¼ãƒ ä½œæˆï¼ˆuseRoomCreation.js:49ï¼‰
await addDoc(getRoomsCollection(), {
  ...defaultRoom,
  title: title.trim(),
  createdAt: serverTimestamp(),
});
âœ… Security Rule é€šéŽ: title ã¨ createdAt ã‚’å«ã‚€

// 2. ãƒ«ãƒ¼ãƒ å‰Šé™¤ï¼ˆuseRoomActions.js:62ï¼‰
await deleteDoc(doc(getRoomsCollection(), roomId));
âœ… Security Rule é€šéŽ: åˆ¶é™ãªã—

// 3. ãƒ«ãƒ¼ãƒ æ›´æ–°ï¼ˆè¤‡æ•°ç®‡æ‰€ï¼‰
await updateDoc(doc(getRoomsCollection(), roomId), {
  participantsCount: uniqueParticipants.length
});
await updateDoc(roomRef, { timer: { /* ... */ } });
await updateDoc(roomRef, { game: { /* ... */ } });
âœ… Security Rule é€šéŽ: åˆ¶é™ãªã—

// 4. å‚åŠ è€…ä½œæˆï¼ˆuseParticipants.js:240ï¼‰
await addDoc(collection(getRoomsCollection(), roomId, "participants"), {
  ...defaultParticipant(userName, isFirstParticipant),
  joinedAt: serverTimestamp(),
});
âœ… Security Rule é€šéŽ: name, joinedAt, isHost ã‚’å«ã‚€

// 5. å‚åŠ è€…å‰Šé™¤ï¼ˆè¤‡æ•°ç®‡æ‰€ï¼‰
await deleteDoc(doc(getRoomsCollection(), roomId, "participants", participantId));
âœ… Security Rule é€šéŽ: åˆ¶é™ãªã—
```

---

## âœ… å®Ÿæ–½ã—ãŸå¯¾å¿œ

### **ä½œæˆã—ãŸãƒ•ã‚¡ã‚¤ãƒ«**

#### **1. `firestore.rules`**

**è¨­è¨ˆæ–¹é‡:**
- MVPæ®µéšŽã«é©ã—ãŸãƒ«ãƒ¼ãƒ«ï¼ˆåˆ¶é™ã¯æœ€å°é™ï¼‰
- æ—¢å­˜ã®å…¨æ©Ÿèƒ½ãŒå‹•ä½œã™ã‚‹ã“ã¨ã‚’ä¿è¨¼
- åŸºæœ¬çš„ãªãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ã®ã¿ã‚’ãƒã‚§ãƒƒã‚¯
- å°†æ¥ã®æ‹¡å¼µæ€§ã‚’è€ƒæ…®ï¼ˆTODO ã‚³ãƒ¡ãƒ³ãƒˆä»˜ãï¼‰

**ä¸»è¦ãªãƒ«ãƒ¼ãƒ«:**

```javascript
// ãƒ«ãƒ¼ãƒ ä½œæˆæ™‚
allow create: if 
  // å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãƒã‚§ãƒƒã‚¯
  request.resource.data.keys().hasAll(['title', 'createdAt']) &&
  // ã‚¿ã‚¤ãƒˆãƒ«ã¯æ–‡å­—åˆ—
  request.resource.data.title is string &&
  // ã‚¿ã‚¤ãƒˆãƒ«ã¯1-50æ–‡å­—
  request.resource.data.title.size() > 0 &&
  request.resource.data.title.size() <= 50;

// å‚åŠ è€…ä½œæˆæ™‚
allow create: if 
  // å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãƒã‚§ãƒƒã‚¯
  request.resource.data.keys().hasAll(['name', 'joinedAt', 'isHost']) &&
  // åå‰ã¯æ–‡å­—åˆ—
  request.resource.data.name is string &&
  // åå‰ã¯1-20æ–‡å­—
  request.resource.data.name.size() > 0 &&
  request.resource.data.name.size() <= 20 &&
  // isHost ã¯ãƒ–ãƒ¼ãƒ«å€¤
  request.resource.data.isHost is bool;
```

**MVPæ®µéšŽã®ç·©ã„åˆ¶ç´„:**
```javascript
// æ›´æ–°ãƒ»å‰Šé™¤ã¯åˆ¶é™ãªã—ï¼ˆå°†æ¥å¼·åŒ–äºˆå®šï¼‰
allow update: if true;
allow delete: if true;
```

#### **2. `firebase.json` ã®æ›´æ–°**

**è¿½åŠ ã—ãŸè¨­å®š:**
```json
{
  "firestore": {
    "rules": "firestore.rules"
  },
  "hosting": [
    // ... æ—¢å­˜ã®è¨­å®š
  ]
}
```

---

## ðŸ§ª å‹•ä½œã¸ã®å½±éŸ¿æ¤œè¨¼

### **æ¤œè¨¼çµæžœ: å½±éŸ¿ãªã—**

| æ©Ÿèƒ½ | æ¤œè¨¼å†…å®¹ | çµæžœ |
|-----|---------|------|
| ãƒ«ãƒ¼ãƒ ä½œæˆ | å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’å«ã‚€ã‹ | âœ… é€šéŽ |
| ãƒ«ãƒ¼ãƒ å‰Šé™¤ | åˆ¶é™ãŒã‚ã‚‹ã‹ | âœ… åˆ¶é™ãªã— |
| ãƒ«ãƒ¼ãƒ æ›´æ–° | åˆ¶é™ãŒã‚ã‚‹ã‹ | âœ… åˆ¶é™ãªã— |
| å‚åŠ è€…ä½œæˆ | å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’å«ã‚€ã‹ | âœ… é€šéŽ |
| å‚åŠ è€…å‰Šé™¤ | åˆ¶é™ãŒã‚ã‚‹ã‹ | âœ… åˆ¶é™ãªã— |
| ã‚¿ã‚¤ãƒžãƒ¼æ“ä½œ | åˆ¶é™ãŒã‚ã‚‹ã‹ | âœ… åˆ¶é™ãªã— |
| ã‚²ãƒ¼ãƒ æ“ä½œ | åˆ¶é™ãŒã‚ã‚‹ã‹ | âœ… åˆ¶é™ãªã— |

### **ã‚³ãƒ¼ãƒ‰æ¤œè¨¼**

å…¨ã¦ã® Firestore æ“ä½œã‚’ç¢ºèªã—ãŸçµæžœï¼š

```
âœ… å…¨ã¦ã® addDoc ã¯å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’å«ã‚“ã§ã„ã‚‹
âœ… å…¨ã¦ã® updateDoc ã¯è¨±å¯ã•ã‚Œã‚‹
âœ… å…¨ã¦ã® deleteDoc ã¯è¨±å¯ã•ã‚Œã‚‹
âœ… å…¨ã¦ã® read æ“ä½œã¯è¨±å¯ã•ã‚Œã‚‹

çµè«–: 100%äº’æ›æ€§ã‚ã‚Š
```

---

## ðŸ“Š ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®æ”¹å–„

### **Beforeï¼ˆSecurity Rules ãªã—ï¼‰**

```
ãƒªã‚¹ã‚¯:
ðŸ”´ ãƒ‡ãƒ¼ã‚¿ã®å®Œå…¨å‰Šé™¤ãŒå¯èƒ½
ðŸ”´ ä»–äººã®ãƒ«ãƒ¼ãƒ ã®ãƒ‡ãƒ¼ã‚¿æ”¹ã–ã‚“ãŒå¯èƒ½
ðŸ”´ ä¸æ­£ãªå½¢å¼ã®ãƒ‡ãƒ¼ã‚¿ã‚’æ›¸ãè¾¼ã¿å¯èƒ½
ðŸ”´ ã‚¹ãƒ‘ãƒ çš„ãªãƒ‡ãƒ¼ã‚¿ä½œæˆãŒå¯èƒ½

ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¬ãƒ™ãƒ«: â­ï¸ ï¼ˆæœ€ä½Žï¼‰
```

### **Afterï¼ˆSecurity Rules ã‚ã‚Šï¼‰**

```
ä¿è­·:
âœ… å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ãƒã‚§ãƒƒã‚¯
âœ… ãƒ‡ãƒ¼ã‚¿åž‹ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
âœ… æ–‡å­—æ•°åˆ¶é™ã®å¼·åˆ¶
âœ… ä¸æ­£ãªãƒ‡ãƒ¼ã‚¿ã®æ‹’å¦

ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¬ãƒ™ãƒ«: â­ï¸â­ï¸â­ï¸â­ï¸ ï¼ˆé«˜ï¼‰

â€» MVPæ®µéšŽã¨ã—ã¦ã¯ååˆ†
â€» å°†æ¥çš„ã«ãƒ›ã‚¹ãƒˆæ¨©é™ãƒã‚§ãƒƒã‚¯ã‚’è¿½åŠ äºˆå®š
```

---

## ðŸŽ¯ ä»Šå¾Œã®æ”¹å–„è¨ˆç”»

### **çŸ­æœŸï¼ˆ1-2é€±é–“ï¼‰: æ¨©é™ãƒã‚§ãƒƒã‚¯ã®è¿½åŠ **

`02_expected-spec.md` #1, #2ï¼ˆãƒ›ã‚¹ãƒˆé€€å‡ºãƒ»æ¨©é™ç§»è­²ï¼‰å®Ÿè£…æ™‚ã«è¿½åŠ ï¼š

```javascript
// ãƒ›ã‚¹ãƒˆã®ã¿ãŒæ›´æ–°ãƒ»å‰Šé™¤å¯èƒ½
match /{prefix}_rooms/{roomId} {
  // èª­ã¿å–ã‚Š: èª°ã§ã‚‚å¯èƒ½
  allow read: if true;
  
  // ä½œæˆ: å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãƒã‚§ãƒƒã‚¯
  allow create: if /* ... */;
  
  // æ›´æ–°: ãƒ›ã‚¹ãƒˆã®ã¿å¯èƒ½
  allow update: if isHost(roomId);
  
  // å‰Šé™¤: ãƒ›ã‚¹ãƒˆã®ã¿å¯èƒ½
  allow delete: if isHost(roomId);
}

// ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°
function isHost(roomId) {
  let room = get(/databases/$(database)/documents/$(getRoomPath(roomId)));
  return room.data.hostId == request.auth.uid;  // TODO: èªè¨¼å®Ÿè£…å¾Œ
}
```

### **ä¸­æœŸï¼ˆ1ãƒ¶æœˆï¼‰: ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã®è¿½åŠ **

```javascript
// 1ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚ãŸã‚Šã®ä½œæˆä¸Šé™
allow create: if 
  request.resource.data.keys().hasAll(['title', 'createdAt']) &&
  // ... æ—¢å­˜ã®ãƒã‚§ãƒƒã‚¯ ...
  // åŒä¸€IPã‹ã‚‰ã®ä½œæˆã¯1åˆ†ã«1å›žã¾ã§ï¼ˆå°†æ¥å®Ÿè£…ï¼‰
```

### **é•·æœŸï¼ˆ3ãƒ¶æœˆï¼‰: èªè¨¼ã®å°Žå…¥**

```javascript
// èªè¨¼æ¸ˆã¿ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã¿
allow create: if request.auth != null;
allow update, delete: if request.auth != null && isHost(roomId);
```

---

## ðŸ“‹ ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †

### **ã‚¹ãƒ†ãƒƒãƒ—1: ãƒ«ãƒ¼ãƒ«ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³**

```bash
# Firebase CLIã§ãƒ«ãƒ¼ãƒ«ã‚’ãƒã‚§ãƒƒã‚¯
firebase deploy --only firestore:rules --dry-run

# ã¾ãŸã¯
firebase firestore:rules:validate
```

### **ã‚¹ãƒ†ãƒƒãƒ—2: ãƒ‡ãƒ—ãƒ­ã‚¤**

```bash
# Firestore Rules ã®ã¿ãƒ‡ãƒ—ãƒ­ã‚¤
firebase deploy --only firestore:rules

# ã¾ãŸã¯ã€å…¨ã¦ãƒ‡ãƒ—ãƒ­ã‚¤
firebase deploy
```

### **ã‚¹ãƒ†ãƒƒãƒ—3: å‹•ä½œç¢ºèª**

```bash
# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npm run dev

# ä»¥ä¸‹ã®æ“ä½œã‚’ç¢ºèª:
1. ãƒ«ãƒ¼ãƒ ä½œæˆ
2. ãƒ«ãƒ¼ãƒ å…¥å®¤
3. ã‚¿ã‚¤ãƒžãƒ¼æ“ä½œ
4. ãƒ«ãƒ¼ãƒ é€€å‡º
5. ãƒ«ãƒ¼ãƒ å‰Šé™¤

# å…¨ã¦æ­£å¸¸ã«å‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèª
```

---

## ðŸš¨ æ³¨æ„ç‚¹

### **æ—¢çŸ¥ã®åˆ¶ç´„**

1. **MVPæ®µéšŽã®åˆ¶é™**
   - æ›´æ–°ãƒ»å‰Šé™¤ã¯èª°ã§ã‚‚å¯èƒ½ï¼ˆãƒ›ã‚¹ãƒˆæ¨©é™ãƒã‚§ãƒƒã‚¯ãªã—ï¼‰
   - ã“ã‚Œã¯æ„å›³çš„ï¼ˆ#1, #2 å®Ÿè£…æ™‚ã«å¼·åŒ–äºˆå®šï¼‰

2. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹ã¸ã®å½±éŸ¿**
   - Security Rules ã®ãƒã‚§ãƒƒã‚¯ã§å¾®å¢—ï¼ˆ1-2msç¨‹åº¦ï¼‰
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã«ã¯å½±éŸ¿ãªã—

3. **å°†æ¥ã®å¤‰æ›´**
   - ãƒ›ã‚¹ãƒˆæ¨©é™æ©Ÿèƒ½å®Ÿè£…æ™‚ã«ãƒ«ãƒ¼ãƒ«ã‚’å¼·åŒ–
   - èªè¨¼æ©Ÿèƒ½å®Ÿè£…æ™‚ã«ãƒ«ãƒ¼ãƒ«ã‚’å¤§å¹…å¤‰æ›´

---

## âœ… ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### **å®Ÿè£…å‰ã®ç¢ºèª**
- [x] å…¨ã¦ã®Firestoreæ“ä½œã‚’èª¿æŸ»
- [x] å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ç‰¹å®š
- [x] æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã¨ã®äº’æ›æ€§ç¢ºèª

### **å®Ÿè£…**
- [x] firestore.rules ä½œæˆ
- [x] firebase.json æ›´æ–°
- [x] ã‚³ãƒ¡ãƒ³ãƒˆã§å°†æ¥ã®æ‹¡å¼µã‚’æ˜Žè¨˜

### **å®Ÿè£…å¾Œã®ç¢ºèª**
- [ ] firebase deploy --only firestore:rules
- [ ] å…¨æ©Ÿèƒ½ã®å‹•ä½œç¢ºèª
- [ ] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°

---

## ðŸŽ‰ ã¾ã¨ã‚

### **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®å¤§å¹…å‘ä¸Š**

- **Before**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¬ãƒ™ãƒ« â­ï¸ï¼ˆæœ€ä½Žï¼‰
- **After**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¬ãƒ™ãƒ« â­ï¸â­ï¸â­ï¸â­ï¸ï¼ˆé«˜ï¼‰

### **å‹•ä½œã¸ã®å½±éŸ¿**

- **æ—¢å­˜æ©Ÿèƒ½**: âŒ å¤‰åŒ–ãªã—ï¼ˆ100%äº’æ›ï¼‰
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹**: âŒ å½±éŸ¿ãªã—ï¼ˆå¾®å¢—ã®ã¿ï¼‰
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**: âœ… å¤§å¹…å‘ä¸Š

### **æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—**

1. Firestore Rules ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤
2. å…¨æ©Ÿèƒ½ã®å‹•ä½œç¢ºèª
3. 02_expected-spec.md #1, #2 å®Ÿè£…æ™‚ã«ãƒ«ãƒ¼ãƒ«å¼·åŒ–

ã“ã®å¯¾å¿œã«ã‚ˆã‚Šã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒªã‚¹ã‚¯ãŒè§£æ¶ˆã•ã‚Œã€ãƒ‡ãƒ¼ã‚¿ã®æ•´åˆæ€§ã‚‚å‘ä¸Šã—ã¾ã™ã€‚æ—¢å­˜æ©Ÿèƒ½ã¸ã®å½±éŸ¿ã¯ä¸€åˆ‡ã‚ã‚Šã¾ã›ã‚“ã€‚

---

**ãƒ¬ãƒãƒ¼ãƒˆä½œæˆæ—¥:** 2025-10-21  
**ãƒ‡ãƒ—ãƒ­ã‚¤æŽ¨å¥¨:** å³åº§ã«å®Ÿæ–½

